{#if shape == "standard"}
<div class="m-paramslist">
  <div class="list-body">
    <div r-hide={isHideFullButton} class="fullScreen" title="全屏" on-click={this.doFullScreen($event)}><i
      class="u-icon-spread-normal"></i></div>
    <div class="list-row list-header">
      <div class="list-col"><em>数据模型</em></div>
      <div class="list-col "><em>变量名称</em></div>
      <div class="list-col list-col-do"></div>
    </div>
    {#if !!params.length}
    {#if level == 0}
    {#list params as p}
    <div class="list-row">
      <div class="list-col "><em>{p.orgName}</em></div>
      <div class="list-col"><em>{p.varName}</em></div>
      <div class="list-col list-col-do"></div>
    </div>
    {/list}
    {#else}
    {#list params as p}
    {#if p.isAdding}
    <div class="list-row list-row-adding">
      <div class="list-col"><input data-enter={p_index} type="text" r-autofocus class="u-input"
                                   r-class={{"u-input-error":p.error}} r-model={p.orgName}></div>
      <div class="list-col"><input data-enter={p_index} type="text" class="u-input" r-model={p.varName}></div>
      <div class="list-col list-col-do"><a title="保存" on-click={this.update(p_index)}><i
        class="u-icon-yes-normal"></i><i class="u-icon-yes-hover"></i></a><a title="删除" on-click={this.remove(p_index)}><i
        class="u-icon-no-normal"></i><i class="u-icon-no-hover"></i></a></div>
    </div>
    {#else}
    <div class="list-row" on-mouseenter={p.hover
    = true} on-mouseleave={p.hover = false}>
    <div class="list-col "><input title={p.orgName} type="text" readonly r-model={p.orgName} class="u-input "
                                  data-active='required=true&id={p.id}&index={p_index}&actionType=input&name=orgName&cache=varmap&choseOnly=false'/>
    </div>
    <div class="list-col"><input title={p.valName} type="text" readonly r-model={p.varName} class="u-input "
                                 data-active='required=true&id={p.id}&index={p_index}&actionType=input&name=varName&cache=varmap'/>
    </div>
    <div class="list-col list-col-do"><i class="u-icon-delete-normal" r-class={{"f-dn-important":!p.hover}}
                                         on-click={this.remove(p_index)}></i></div>
  </div>
  {/if}
  {/list}
  {/if}
  {#else}
  <params-empty level={level} format={format} on-import={this.import($event)}></params-empty>
  {/if}
</div>
<div class="action-row" r-hide={level == 0}>
<span class="add" on-click={this.add()}><i class="u-icon u-icon-add-editor-normal"></i><i
  class="u-icon u-icon-add-editor-hover"></i><i class="u-icon u-icon-add-editor-pressed"></i></span>
</div>

</div>
{#else}
<div class="m-paramslist">
  <div class="list-body">
    <div class="list-row list-header">
      <div class="list-col list-col-ktitle"></div>
      <div class="list-col"><em>数据模型</em></div>
      <div class="list-col "><em>变量名称</em></div>
      <div class="list-col list-col-do"></div>
    </div>
    {#if !!entre.length}
    <div class="klass">
      <div class="ktitle">{tname[entre[0].parentType]}</div>
      <div class="klist">
        {#list entre as p}
        <div class="list-row">
          <div class="list-col "><em>{p.orgName}</em></div>
          <div class="list-col"><em>{p.varName}</em></div>
          <div class="list-col list-col-do"></div>
        </div>
        {/list}
      </div>
    </div>
    {/if}
    {#if shape == "project" && !!pgroup.length}
    <div class="klass">
      <div class="ktitle">{tname[pgroup[0].parentType]}</div>
      <div class="klist">
        {#list pgroup as p}
        <div class="list-row">
          <div class="list-col "><em>{p.orgName}</em></div>
          <div class="list-col"><em>{p.varName}</em></div>
          <div class="list-col list-col-do"></div>
        </div>
        {/list}
      </div>
    </div>
    {/if}
    {#if !!params.length}
    {#if level == 0}
    <div class="klass">
      <div class="ktitle">{shape|setTitle}</div>
      <div class="klist">
        {#list params as p}
        <div class="list-row">
          <div class="list-col "><em>{p.orgName}</em></div>
          <div class="list-col"><em>{p.varName}</em></div>
          <div class="list-col list-col-do"></div>
        </div>
        {/list}
      </div>
    </div>
    {#else}
    <div class="klass">
      <div class="ktitle">{shape|setTitle}</div>
      <div class="klist">
        {#list params as p}
        {#if p.isAdding}
        <div class="list-row list-row-adding">
          <div class="list-col"><input type="text" data-enter={p_index} r-autofocus class="u-input"
                                       r-class={{"u-input-error":p.error}} r-model={p.orgName}></div>
          <div class="list-col"><input type="text" data-enter={p_index} class="u-input" r-model={p.varName}></div>
          <div class="list-col list-col-do"><a title="保存" on-click={this.update(p_index)}><i
            class="u-icon-yes-normal"></i><i class="u-icon-yes-hover"></i></a><a title="删除"
                                                                                 on-click={this.remove(p_index)}><i
            class="u-icon-no-normal"></i><i class="u-icon-no-hover"></i></a></div>
        </div>
        {#else}
        {#if p.level == 0}
        <div class="list-row">
          <div class="list-col "><em>{p.orgName}</em></div>
          <div class="list-col"><em>{p.varName}</em></div>
          <div class="list-col list-col-do"></div>
        </div>
        {#else}
        <div class="list-row" on-mouseenter={p.hover
        = true} on-mouseleave={p.hover = false}>
        <div class="list-col "><input title={p.orgName} type="text" readonly r-model={p.orgName} class="u-input "
                                      data-active='required=true&specType={p.specType}&parentType={p.parentType}&id={p.id}&index={p_index}&actionType=input&name=orgName&cache=varmap&choseOnly=false'/>
        </div>
        <div class="list-col"><input title={p.valName} type="text" readonly r-model={p.varName} class="u-input "
                                     data-active='required=true&specType={p.specType}&parentType={p.parentType}&id={p.id}&index={p_index}&actionType=input&name=varName&cache=varmap'/>
        </div>
        <div class="list-col list-col-do"><i class="u-icon-delete-normal" r-class={{"f-dn-important":!p.hover}}
                                             on-click={this.remove(p_index)}></i></div>
      </div>
      {/if}
      {/if}
      {/list}
    </div>
  </div>
  {/if}
  {#else}
  <div class="klass">
    <div class="ktitle">{shape|setTitle}</div>
    <div class="klist">
      <params-empty level={level} format={format} on-import={this.import($event)}></params-empty>
    </div>
  </div>

  {/if}
</div>
<div class="action-row" r-hide={level == 0}>
<span title="添加" class="add" on-click={this.add()}><i class="u-icon u-icon-add-editor-normal"></i><i
  class="u-icon u-icon-add-editor-hover"></i><i class="u-icon u-icon-add-editor-pressed"></i></span>
</div>
</div>
{/if}
